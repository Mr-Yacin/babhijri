---
import Layout from "../../layouts/Layout.astro";
import Header from "../../components/common/Header.astro";
import Footer from "../../components/common/Footer.astro";
import { getCollection } from "astro:content";
import { SITE_CONFIG } from "../../config";
import BlogGrid from "../../components/blog/BlogGrid.svelte";

const posts = (await getCollection("blog")).sort(
	(a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
);
---

<Layout title={`المدونة | ${SITE_CONFIG.name}`}>
	<Header />

	<main class="min-h-screen bg-gray-50">
		<!-- Page Header -->
		<section class="relative bg-teal-900 text-white py-20 overflow-hidden">
			<div class="absolute inset-0 opacity-10">
				<svg
					class="w-full h-full"
					viewBox="0 0 100 100"
					preserveAspectRatio="none"
				>
					<path d="M0 100 C 20 0 50 0 100 100 Z" fill="white"></path>
				</svg>
			</div>
			<div class="container mx-auto px-4 relative z-10 text-center">
				<span
					class="inline-block py-1 px-3 rounded-full bg-teal-800/50 border border-teal-700 text-teal-200 text-sm font-medium mb-4 backdrop-blur-sm"
				>
					مدونة باب الهجرة
				</span>
				<h1 class="text-4xl md:text-6xl font-bold mb-6 leading-tight">
					اكتشف العالم <span class="text-teal-400">معنا</span>
				</h1>
				<p
					class="text-teal-100 text-lg md:text-xl max-w-2xl mx-auto leading-relaxed"
				>
					دليلك الشامل للهجرة، العمل، والحياة في الخارج. مقالات
					احترافية ونصائح موثوقة لمستقبلك.
				</p>
			</div>
		</section>

		<!-- Blog Posts Grid -->
		<section class="py-12 -mt-10 relative z-20">
			<div class="container mx-auto px-4">
				<BlogGrid client:load posts={posts} />
			</div>
		</section>
	</main>

	<Footer />
</Layout>
